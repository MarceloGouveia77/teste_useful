{% extends 'core/base.html' %}
{% load static %}

{% block title %} {{ unidade.nome }} {% endblock title %}
{% block page_header %} {{ unidade.nome }} {% endblock page_header %}
    

{% block content %}
    <div class="row">
        <div class="col-6 text-left mb-3">
            <a class="btn btn-sm btn-success" href="{% url 'empresa:listar_unidades' %}"><i class="fas fa-arrow-left"></i> Voltar</a>
        </div>
        <div class="col-6 text-right mb-3">
            <button class="btn btn-sm btn-primary"><i class="fas fa-print"></i> Imprimir</button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3 col-12">
            <h5>Motoristas: <span style="font-weight: normal;">{{ total_motoristas }}</span></h5>
        </div>
        <div class="col-md-3 col-6 text-center">
            <div class="card text-white bg-dark mb-3">
                <div class="card-header">Movimentações</div>
                <div class="card-body">
                  <h5 class="card-title">895</h5>
                </div>
              </div>
        </div>
        <div class="col-md-3 col-6 text-center">
            <div class="card text-white bg-success mb-3">
                <div class="card-header">Concluidas</div>
                <div class="card-body">
                  <h5 class="card-title">112</h5>
                </div>
              </div>
        </div>
        <div class="col-md-3 col-6 text-center">
            <div class="card text-white bg-danger mb-3">
                <div class="card-header">Canceladas</div>
                <div class="card-body">
                  <h5 class="card-title">39</h5>
                </div>
              </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-12">
            <div class="card">
                <div class="card-header titulo-card">Movimentações de Origem</div>
                <div class="card-body m-0 p-0">
                    <table id="origem-table" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                            <tr>
                                <th>Destino</th>
                                <th>Motorista</th>
                                <th>Concluido</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            {% for movimentacao in movimentacoes_origem %}
                                <tr>
                                    <td>{{ movimentacao.destino }}</td>
                                    <td>{{ movimentacao.motorista }}</td>
                                    <td>SIM</td>
                                </tr>
                            {% endfor %}
                                
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-12">
            <div class="card">
                <div class="card-header titulo-card">Movimentações de Destino</div>
                <div class="card-body m-0 p-0">
                    <table id="destino-table" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                            <tr>
                                <th>Origem</th>
                                <th>Motorista</th>
                                <th>Concluido</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            {% for movimentacao in movimentacoes_destino %}
                                <tr>
                                    <td>{{ movimentacao.origem }}</td>
                                    <td>{{ movimentacao.motorista }}</td>
                                    <td>SIM</td>
                                </tr>
                            {% endfor %}
                                
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
    

{% block scripts %}
<script>
$(document).ready(function() {
    $('#origem-table').DataTable();
    $('#origem-table_length').hide();
    $("#origem-table_filter").hide();

    $('#destino-table').DataTable();
    $('#destino-table_length').hide();
    $("#destino-table_filter").hide();

} );
</script>
{% endblock scripts %}
    